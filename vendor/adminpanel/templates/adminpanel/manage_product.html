{% extends "base.html" %}
{% block content %}

<div class="container mt-4">

  <!-- Page Header -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0">My Products</h4>
    <a href="{% url 'add_product' %}" class="btn btn-dark">
      + Add Product
    </a>
  </div>

  <!-- Products Table -->
  <div class="card shadow-sm">
    <div class="card-body p-0">

      {% if products %}
      <table class="table table-hover mb-0 align-middle">
        <thead class="table-dark">
          <tr>
            <th>#</th>
            <th>Product</th>
            <th>Price</th>
            <th>Stock</th>
            <th>Status</th>
            <th class="text-end">Actions</th>
          </tr>
        </thead>

        <tbody>
          {% for product in products %}
          <tr>
            <td>{{ forloop.counter }}</td>

            <td>
              <strong>{{ product.name }}</strong><br>
              <small class="text-muted">{{ product.slug }}</small>
            </td>

            <td>â‚¹ {{ product.price }}</td>

            <td>
              {% if product.stock > 0 %}
                {{ product.stock }}
              {% else %}
                <span class="text-danger">Out of stock</span>
              {% endif %}
            </td>

            <td>
              {% if product.is_active %}
                <span class="badge bg-success">Active</span>
              {% else %}
                <span class="badge bg-secondary">Inactive</span>
              {% endif %}
            </td>

            {% comment %} <td class="text-end">
              <a href="{% url '#' product.id %}"
                 class="btn btn-sm btn-outline-primary">
                Edit
              </a> {% endcomment %}

              {% comment %} <a href="{% url '#' product.id %}"
                 class="btn btn-sm btn-outline-danger"
                 onclick="return confirm('Are you sure?')">
                Delete
              </a> {% endcomment %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% else %}

      <!-- Empty State -->
      <div class="text-center p-4">
        <p class="mb-2">You have not added any products yet.</p>
        <a href="{% url 'add_product' %}" class="btn btn-dark">
          Add Your First Product
        </a>
      </div>

      {% endif %}

    </div>
  </div>

</div>

{% endblock %}
